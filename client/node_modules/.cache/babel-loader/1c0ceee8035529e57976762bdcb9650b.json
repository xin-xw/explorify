{"ast":null,"code":"var _jsxFileName = \"/Users/xinwng/Projects/Explorify/client/src/App.js\",\n    _s = $RefreshSig$();\n\n/*\n1. When the app loads, it will send a request to our backends “current-session” endpoint, where it will take that data and set the auth state.\n2. This means that while our auth state is null (which is its initial state), the Loading screen will be returned, which just says “Loading…”\n3. If auth exists and is not false, then we return our Explorify screen. We also pass in that auth state so we can use it later!\n4. If auth is false, which is what happens if we aren’t logged in, then our App shows the home screen, offering a login to our users. Luckily, our login endpoint is already hooked up to our Spotify Authentication workflow!\n*/\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport LoginPage from \"./pre_pages/login_page\";\nimport Loading from \"./pre_pages/loading\";\nimport Explorify from \"./explorify\";\nimport SnackbarProvider from \"react-simple-snackbar\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [auth, setAuth] = useState(null);\n  useEffect(() => {\n    axios.get(\"/auth/current-session\").then(({\n      data\n    }) => {\n      setAuth(data);\n    });\n  }, []);\n\n  if (auth === null) {\n    return /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 12\n    }, this);\n  }\n\n  if (auth) {\n    return /*#__PURE__*/_jsxDEV(Loading, {\n      children: /*#__PURE__*/_jsxDEV(Explorify, {\n        auth: auth\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(LoginPage, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 10\n  }, this);\n}\n\n_s(App, \"rvIDANynb054X/J0MJbkV+yIK+M=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/xinwng/Projects/Explorify/client/src/App.js"],"names":["React","useState","useEffect","axios","LoginPage","Loading","Explorify","SnackbarProvider","App","auth","setAuth","get","then","data"],"mappings":";;;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,OAAP,MAAoB,qBAApB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,gBAAP,MAA6B,uBAA7B;;;AAEA,SAASC,GAAT,GAAe;AAAA;;AACb,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBT,QAAQ,CAAC,IAAD,CAAhC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACdC,IAAAA,KAAK,CAACQ,GAAN,CAAU,uBAAV,EAAmCC,IAAnC,CAAwC,CAAC;AAAEC,MAAAA;AAAF,KAAD,KAAc;AACpDH,MAAAA,OAAO,CAACG,IAAD,CAAP;AACD,KAFD;AAGD,GAJQ,EAIN,EAJM,CAAT;;AAMA,MAAIJ,IAAI,KAAK,IAAb,EAAmB;AACjB,wBAAO,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,YAAP;AACD;;AACD,MAAIA,IAAJ,EAAU;AACR,wBACE,QAAC,OAAD;AAAA,6BACE,QAAC,SAAD;AAAW,QAAA,IAAI,EAAEA;AAAjB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF;AAKD;;AACD,sBAAO,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA,UAAP;AACD;;GApBQD,G;;KAAAA,G;AAsBT,eAAeA,GAAf","sourcesContent":["/*\n1. When the app loads, it will send a request to our backends “current-session” endpoint, where it will take that data and set the auth state.\n2. This means that while our auth state is null (which is its initial state), the Loading screen will be returned, which just says “Loading…”\n3. If auth exists and is not false, then we return our Explorify screen. We also pass in that auth state so we can use it later!\n4. If auth is false, which is what happens if we aren’t logged in, then our App shows the home screen, offering a login to our users. Luckily, our login endpoint is already hooked up to our Spotify Authentication workflow!\n*/\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport LoginPage from \"./pre_pages/login_page\";\nimport Loading from \"./pre_pages/loading\";\nimport Explorify from \"./explorify\";\nimport SnackbarProvider from \"react-simple-snackbar\";\n\nfunction App() {\n  const [auth, setAuth] = useState(null);\n\n  useEffect(() => {\n    axios.get(\"/auth/current-session\").then(({ data }) => {\n      setAuth(data);\n    });\n  }, []);\n\n  if (auth === null) {\n    return <Loading />;\n  }\n  if (auth) {\n    return (\n      <Loading>\n        <Explorify auth={auth} />\n      </Loading>\n    );\n  }\n  return <LoginPage />;\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}