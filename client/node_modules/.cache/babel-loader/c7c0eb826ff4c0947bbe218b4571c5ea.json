{"ast":null,"code":"import _regeneratorRuntime from\"/Users/xinwng/Projects/Explorify/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/xinwng/Projects/Explorify/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/xinwng/Projects/Explorify/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useRef}from\"react\";import{makeStyles,Box,Card,CardContent,Grid,Typography,Button,ThemeProvider,createMuiTheme,CssBaseline,styled}from\"@material-ui/core\";import axios from\"axios\";import{useSnackbar}from\"react-simple-snackbar\";import SearchBar from\"./component/search_bar\";import RecBoards from\"./component/rec_boards\";import RecommendationResults from\"./component/rec_results\";import GetUserData from\"./component/get_user_data\";import BookOfTrackAttributes from\"./component/book_track_attribute\";import DirectionsRunIcon from\"@material-ui/icons/DirectionsRun\";import AddBoxIcon from\"@material-ui/icons/AddBox\";import QueueMusicIcon from\"@material-ui/icons/QueueMusic\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var theme=createMuiTheme({typography:{allVariants:{fontFamily:[\"Inter\",\"Kiwi Maru\"],color:\"black\"}},palette:{background:{default:\"#6b705c\"},action:{disabledBackground:\"#EBEBE4\",disabled:\"#000\"}},props:{MuiButtonBase:{disableRipple:true}},overrides:{MuiSlider:{root:{// color: \"#3880ff\",\nheight:5,padding:\"15px 0\",width:\"95%\"// \"&$disabled\": {\n//   color: \"#e6e4df\",\n// },\n},switchBase:{// Controls default (unchecked) color for the thumb\n// color: \"#ccc\",\n},colorSecondary:{\"&$checked\":{// Controls checked color for the thumb\ncolor:\"#f2ff00\"}},thumb:{height:13,width:13,// size: 50,\n// marginTop: -8,\n// marginLeft: -12,\n// color: \"#2B2D25\",\nborder:\"5px solid currentColor\",\"&:focus, &:hover, &$active\":{boxShadow:\"inherit\"},\"&$disabled\":{opacity:0.5// color: \"#e6e4df\",\n}},track:{// color: \"#2B2D25\",\nheight:5,borderRadius:4,\"&$disabled\":{opacity:0.3,color:\"#e6e4df\"}},rail:{color:\"#FFE8D6\",height:5,borderRadius:4// \"&$disabled\": {\n//   color: \"#e6e4df\",\n// },\n},valueLabel:{left:\"calc(-50% - 12px)\",color:\"#2B2D25\"}}}});var options={position:\"bottom-right\",style:{backgroundColor:\"#C5C8BC\",// border: \"2px solid lightgreen\",\ncolor:\"#000\",fontFamily:\"Inter\",fontSize:\"15px\",textAlign:\"center\"}};var useStyles=makeStyles(function(theme){return{gridContainer:{padding:10,spacing:10,alignItems:\"center\",justify:\"center\",direction:\"row\"},gridItem:{paddingTop:30,marginBottom:-10},nav_title:{padding:10,display:\"flex\",flexDirection:\"row\",placeItems:\"left\",fontSize:\"1.5rem\",fontFamily:\"Kiwi Maru\"},step_root:{// align: \"center\",\npadding:10,maxWidth:1000,marginBottom:50,backgroundColor:\"#ddbea9\",borderRadius:10},step_header:{color:\"black\",textAlign:\"left\",fontSize:\"1.7em\",marginBottom:10,fontWeight:\"700\"},step_desc:{color:\"black\",textAlign:\"left\",fontSize:\"1.2em\",marginBottom:30,lineHeight:1.5},card:{// backgroundColor: \"FFB4A2\",\n},get_rec_button:{// background: \"linear-gradient(to right, #ff9966, #ff5e62)\",\nbackground:\"linear-gradient(to right, #d3cce3, #e9e4f0)\",borderRadius:10,boxShadow:\"0 3px 5px 2px rgba(0, 0, 0, .2)\",height:50,// padding: \"0 30px\",\nfontSize:\"1.2em\"},button:{\"&$disabled\":{backgroundColor:\"#EBEBE4\",color:\"#EBEBE4\"}}};});var Explorify=function Explorify(_ref){var auth=_ref.auth;var classes=useStyles();var token=auth.token;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),user_id=_useState2[0],set_user_id=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),rec_values=_useState4[0],set_rec_values=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),results=_useState6[0],set_results=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),selected_seeds=_useState8[0],set_selected_seeds=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),playlist_id=_useState10[0],set_playlist_id=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),disabled=_useState12[0],setDisabled=_useState12[1];var _useState13=useState(true),_useState14=_slicedToArray(_useState13,2),preventGetYourResults=_useState14[0],setPreventGetYourResults=_useState14[1];var _useSnackbar=useSnackbar(options),_useSnackbar2=_slicedToArray(_useSnackbar,2),openSnackbar=_useSnackbar2[0],closeSnackbar=_useSnackbar2[1];console.log(\"rv\",rec_values);console.log(\"user_id\",user_id);console.log(\"results\");var get_recommendations=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var url,seed_string,min,max,min_string,max_string,_yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=\"https://api.spotify.com/v1/recommendations\";if(!(seed_string<0)){_context.next=5;break;}return _context.abrupt(\"return\");case 5:seed_string=\"seed_tracks=\".concat(selected_seeds.join(\",\"));case 6:min=[];max=[];Object.keys(rec_values).forEach(function(rec){if(rec_values[rec].enabled){min.push(\"min_\".concat(rec,\"=\").concat(rec_values[rec].value[0]));max.push(\"min_\".concat(rec,\"=\").concat(rec_values[rec].value[1]));}});min_string=min.join(\"&\");max_string=max.join(\"&\");_context.next=13;return axios.get(\"\".concat(url,\"?\").concat(seed_string,\"&\").concat(min_string,\"&\").concat(max_string),{headers:{Authorization:\"Bearer \".concat(token)}});case 13:_yield$axios$get=_context.sent;data=_yield$axios$get.data;set_results(data);console.log(\"data\",data,results);// const uri = results.tracks.map((r) => \"spotify:track:\" + r.id);\n// console.log(uri);\ncase 17:case\"end\":return _context.stop();}}},_callee);}));return function get_recommendations(){return _ref2.apply(this,arguments);};}();var create_playlist=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var url,playlist_name;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setDisabled(true);setPreventGetYourResults(false);openSnackbar(\"Successfully created playlist on your Spotify\");url=\"https://api.spotify.com/v1/users/\";playlist_name=\"brought to you by explorify\";// const playlist_desc = \"generated at \";\n_context2.next=7;return axios.post(\"\".concat(url).concat(user_id,\"/playlists\"),JSON.stringify({name:playlist_name// epd,\n}),{headers:{Authorization:\"Bearer \".concat(token),\"Content-Type\":\"application/json\"}}).then(function(data){return set_playlist_id(data.data.id);});case 7:return _context2.abrupt(\"return\",_context2.sent);case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function create_playlist(){return _ref3.apply(this,arguments);};}();// const export_to_playlist = async () => {\nfunction export_to_playlist(){return _export_to_playlist.apply(this,arguments);}function _export_to_playlist(){_export_to_playlist=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var url,uri,euri,_yield$axios$post$the,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:// const playlist_id = await set_playlist_id;\nconsole.log(playlist_id);url=\"https://api.spotify.com/v1/playlists/\";uri=results.tracks.map(function(r){return\"spotify:track:\"+r.id;});euri=encodeURIComponent(uri);console.log(uri);_context3.next=7;return axios.post(\"\".concat(url).concat(playlist_id,\"/tracks?uris=\").concat(euri),null,{headers:{Authorization:\"Bearer \".concat(token),\"Content-Type\":\"application/json\"}}).then(openSnackbar(\"Successfully exported results to your Spotify\"));case 7:_yield$axios$post$the=_context3.sent;data=_yield$axios$post$the.data;case 9:case\"end\":return _context3.stop();}}},_callee3);}));return _export_to_playlist.apply(this,arguments);}return/*#__PURE__*/_jsxs(ThemeProvider,{theme:theme,children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsxs(Grid,{container:true,className:classes.gridContainer,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,className:classes.gridItem,children:/*#__PURE__*/_jsx(GetUserData,{auth:auth,onChange:set_user_id})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,align:\"center\",children:/*#__PURE__*/_jsx(Box,{className:classes.card,children:/*#__PURE__*/_jsx(Card,{className:classes.step_root,children:/*#__PURE__*/_jsxs(CardContent,{className:classes.card_content,children:[/*#__PURE__*/_jsx(Typography,{className:classes.step_header,children:\"Step 1: Input Your Seeds\"}),/*#__PURE__*/_jsxs(Typography,{className:classes.step_desc,children:[\"Include up to \",/*#__PURE__*/_jsx(\"b\",{children:\"5 seeds\"}),\", these \\\"seeds\\\" will serve as reference tracks for the basis of your new set of recommended songs. \",/*#__PURE__*/_jsx(\"br\",{}),\"Go ahead and search for some songs! When you are done, scroll down to the next step.\"]}),/*#__PURE__*/_jsx(SearchBar,{auth:auth,onChange:set_selected_seeds})]})})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,align:\"center\",children:/*#__PURE__*/_jsx(Box,{className:classes.card,children:/*#__PURE__*/_jsx(Card,{className:classes.step_root,children:/*#__PURE__*/_jsxs(CardContent,{className:classes.card_content,children:[/*#__PURE__*/_jsx(Typography,{className:classes.step_header,children:\"Step 2: Learn About Track Attributes\"}),/*#__PURE__*/_jsxs(Typography,{className:classes.step_desc,children:[\"Spotify provides audio features and analysis for every single track in their database, but they restrict this data for only developers to see.\",/*#__PURE__*/_jsx(\"br\",{}),\"These audio features and analysis are also known as\",\" \",/*#__PURE__*/_jsx(\"b\",{children:\"track attributes\"}),\". \",/*#__PURE__*/_jsx(\"br\",{}),\"With Explorify, you can adjust these track attributes to your liking - leading you to explore more songs based on those redeeming qualities in supplement to your reference tracks!\",/*#__PURE__*/_jsx(\"br\",{}),\"Go ahead and learn about these track attributes in the\",\" \",/*#__PURE__*/_jsx(\"b\",{children:\"Book of Track Attributes\"}),\", then scroll down to the\",\" \",/*#__PURE__*/_jsx(\"b\",{children:\"Control Panel\"}),\" in Step 3 to modify them yourself.\"]}),/*#__PURE__*/_jsx(BookOfTrackAttributes,{})]})})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,align:\"center\",children:/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsx(Card,{className:classes.step_root,children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{className:classes.step_header,children:\"Step 3: Fine Tune Your Track Attributes\"}),/*#__PURE__*/_jsxs(Typography,{className:classes.step_desc,style:{paddingBottom:15},children:[\"In this step, you have the ability to fine tune specific track attributes that you want to look for in your recommended songs. \",/*#__PURE__*/_jsx(\"br\",{}),\" Based on the track attributes up above, go ahead and \",/*#__PURE__*/_jsx(\"b\",{children:\"check\"}),\" the ones you want to modify. \",/*#__PURE__*/_jsx(\"br\",{}),\"Then,\",\" \",/*#__PURE__*/_jsx(\"b\",{children:\"drag either just the min, the max, or both the min and max sliders\"}),\" \",\"to really specify your desired range!\"]}),/*#__PURE__*/_jsx(RecBoards,{onChange:set_rec_values})]})})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,align:\"center\",children:/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsx(Card,{className:classes.step_root,children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{className:classes.step_header,children:\"Step 4: Get Your Results\"}),/*#__PURE__*/_jsxs(Typography,{className:classes.step_desc,style:{paddingBottom:15},children:[\"Press the big \",/*#__PURE__*/_jsx(\"b\",{children:\"Get Recommendations\"}),\" button to retrieve your results! \",/*#__PURE__*/_jsx(\"br\",{}),\"Go ahead and click the button as many times as you want until you get a set of results that you like. \",/*#__PURE__*/_jsx(\"br\",{}),\" If you wish to save your results, scroll down to\",\" \",/*#__PURE__*/_jsx(\"b\",{children:\"Create Your Playlist\"}),\" and \",/*#__PURE__*/_jsx(\"b\",{children:\"Export Your Results\"}),\" to the playlist!\"]}),/*#__PURE__*/_jsxs(Button,{className:classes.get_rec_button,variant:\"contained\",onClick:get_recommendations,style:{marginTop:-25},children:[\"GET RECOMMENDATIONS\",/*#__PURE__*/_jsx(DirectionsRunIcon,{style:{marginLeft:5,fontSize:28}})]}),results&&/*#__PURE__*/_jsx(RecommendationResults,{results:results})]})})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,align:\"center\",children:/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsx(Card,{className:classes.step_root,children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{className:classes.step_header,children:\"Step 5: Create Your Playlist and Export Your Results\"}),/*#__PURE__*/_jsxs(Typography,{className:classes.step_desc,style:{paddingBottom:15},children:[\"Press \",/*#__PURE__*/_jsx(\"b\",{children:\"Create Playlist\"}),\". Then, press\",\" \",/*#__PURE__*/_jsx(\"b\",{children:\"Export to Playlist\"}),\". \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"b\",{children:\"Note:\"}),\" Once you have created your playlist, the\",\" \",/*#__PURE__*/_jsx(\"b\",{children:\"Create Your Playlist\"}),\" button will be disabled! But, the\",\" \",/*#__PURE__*/_jsx(\"b\",{children:\"Export Your Results\"}),\" button is still available.\",\" \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"b\",{children:\"What does this mean?\"}),\" You can go back to modify your reference tracks, tune your track attributes, and get your recommendations over and over again. Once you are ready, just press \",/*#__PURE__*/_jsx(\"b\",{children:\"Export To Playlist\"}),\" again to keep stacking your results top of the playlist that you already created.\",/*#__PURE__*/_jsx(\"br\",{}),\"This way, you'll have one gigantic playlist of new songs that you can put on shuffle (and not 20 new playlists).\"]}),/*#__PURE__*/_jsxs(Grid,{container:true,className:classes.gridContainer,children:[/*#__PURE__*/_jsx(Grid,{item:true,align:\"center\",xs:6,children:/*#__PURE__*/_jsxs(Button,{className:classes.get_rec_button,variant:\"contained\",style:{margin:\"auto\",color:\"#2b2d42\",justify:\"center\"},disabled:disabled,onClick:function onClick(){return create_playlist();},children:[\"Create Your Playlist\",/*#__PURE__*/_jsx(AddBoxIcon,{style:{marginLeft:5,fontSize:28}})]})}),/*#__PURE__*/_jsx(Grid,{item:true,align:\"center\",xs:6,children:/*#__PURE__*/_jsxs(Button,{className:classes.get_rec_button,variant:\"contained\",style:{margin:\"auto\",color:\"#2b2d42\",justify:\"center\"},disabled:preventGetYourResults,onClick:export_to_playlist,children:[\"Export Your Results\",/*#__PURE__*/_jsx(QueueMusicIcon,{style:{marginLeft:5,fontSize:28}})]})})]})]})})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,align:\"center\",children:/*#__PURE__*/_jsxs(Typography,{style:{fontFamily:\"Inter\",fontSize:\"1.3em\",fontWeight:\"500\",paddingBottom:\"50px\",color:\"#fff\"},children:[\"Thank you for trying this out! Learn more about me at:\",\" \",/*#__PURE__*/_jsx(\"a\",{href:\"https://www.xinwang.me\",target:\"_blank\",rel:\"noreferrer\",children:\"https://www.xinwang.me.\"})]})})]})]});};export default Explorify;","map":{"version":3,"sources":["/Users/xinwng/Projects/Explorify/client/src/explorify.js"],"names":["React","useState","useRef","makeStyles","Box","Card","CardContent","Grid","Typography","Button","ThemeProvider","createMuiTheme","CssBaseline","styled","axios","useSnackbar","SearchBar","RecBoards","RecommendationResults","GetUserData","BookOfTrackAttributes","DirectionsRunIcon","AddBoxIcon","QueueMusicIcon","theme","typography","allVariants","fontFamily","color","palette","background","default","action","disabledBackground","disabled","props","MuiButtonBase","disableRipple","overrides","MuiSlider","root","height","padding","width","switchBase","colorSecondary","thumb","border","boxShadow","opacity","track","borderRadius","rail","valueLabel","left","options","position","style","backgroundColor","fontSize","textAlign","useStyles","gridContainer","spacing","alignItems","justify","direction","gridItem","paddingTop","marginBottom","nav_title","display","flexDirection","placeItems","step_root","maxWidth","step_header","fontWeight","step_desc","lineHeight","card","get_rec_button","button","Explorify","auth","classes","token","user_id","set_user_id","rec_values","set_rec_values","results","set_results","selected_seeds","set_selected_seeds","playlist_id","set_playlist_id","setDisabled","preventGetYourResults","setPreventGetYourResults","openSnackbar","closeSnackbar","console","log","get_recommendations","url","seed_string","join","min","max","Object","keys","forEach","rec","enabled","push","value","min_string","max_string","get","headers","Authorization","data","create_playlist","playlist_name","post","JSON","stringify","name","then","id","export_to_playlist","uri","tracks","map","r","euri","encodeURIComponent","card_content","paddingBottom","marginTop","marginLeft","margin"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from \"react\";\nimport {\n  makeStyles,\n  Box,\n  Card,\n  CardContent,\n  Grid,\n  Typography,\n  Button,\n  ThemeProvider,\n  createMuiTheme,\n  CssBaseline,\n  styled,\n} from \"@material-ui/core\";\nimport axios from \"axios\";\nimport { useSnackbar } from \"react-simple-snackbar\";\nimport SearchBar from \"./component/search_bar\";\nimport RecBoards from \"./component/rec_boards\";\nimport RecommendationResults from \"./component/rec_results\";\nimport GetUserData from \"./component/get_user_data\";\nimport BookOfTrackAttributes from \"./component/book_track_attribute\";\nimport DirectionsRunIcon from \"@material-ui/icons/DirectionsRun\";\nimport AddBoxIcon from \"@material-ui/icons/AddBox\";\nimport QueueMusicIcon from \"@material-ui/icons/QueueMusic\";\n\nconst theme = createMuiTheme({\n  typography: {\n    allVariants: {\n      fontFamily: [\"Inter\", \"Kiwi Maru\"],\n      color: \"black\",\n    },\n  },\n  palette: {\n    background: {\n      default: \"#6b705c\",\n    },\n    action: {\n      disabledBackground: \"#EBEBE4\",\n      disabled: \"#000\",\n    },\n  },\n  props: {\n    MuiButtonBase: {\n      disableRipple: true,\n    },\n  },\n  overrides: {\n    MuiSlider: {\n      root: {\n        // color: \"#3880ff\",\n        height: 5,\n        padding: \"15px 0\",\n        width: \"95%\",\n        // \"&$disabled\": {\n        //   color: \"#e6e4df\",\n        // },\n      },\n      switchBase: {\n        // Controls default (unchecked) color for the thumb\n        // color: \"#ccc\",\n      },\n      colorSecondary: {\n        \"&$checked\": {\n          // Controls checked color for the thumb\n          color: \"#f2ff00\",\n        },\n      },\n      thumb: {\n        height: 13,\n        width: 13,\n        // size: 50,\n        // marginTop: -8,\n        // marginLeft: -12,\n        // color: \"#2B2D25\",\n        border: \"5px solid currentColor\",\n        \"&:focus, &:hover, &$active\": {\n          boxShadow: \"inherit\",\n        },\n        \"&$disabled\": {\n          opacity: 0.5,\n          // color: \"#e6e4df\",\n        },\n      },\n      track: {\n        // color: \"#2B2D25\",\n        height: 5,\n        borderRadius: 4,\n        \"&$disabled\": {\n          opacity: 0.3,\n          color: \"#e6e4df\",\n        },\n      },\n      rail: {\n        color: \"#FFE8D6\",\n        height: 5,\n        borderRadius: 4,\n        // \"&$disabled\": {\n        //   color: \"#e6e4df\",\n        // },\n      },\n      valueLabel: { left: \"calc(-50% - 12px)\", color: \"#2B2D25\" },\n    },\n  },\n});\n\nconst options = {\n  position: \"bottom-right\",\n  style: {\n    backgroundColor: \"#C5C8BC\",\n    // border: \"2px solid lightgreen\",\n    color: \"#000\",\n    fontFamily: \"Inter\",\n    fontSize: \"15px\",\n    textAlign: \"center\",\n  },\n};\n\nconst useStyles = makeStyles((theme) => ({\n  gridContainer: {\n    padding: 10,\n    spacing: 10,\n    alignItems: \"center\",\n    justify: \"center\",\n    direction: \"row\",\n  },\n  gridItem: {\n    paddingTop: 30,\n    marginBottom: -10,\n  },\n  nav_title: {\n    padding: 10,\n    display: \"flex\",\n    flexDirection: \"row\",\n    placeItems: \"left\",\n    fontSize: \"1.5rem\",\n    fontFamily: \"Kiwi Maru\",\n  },\n  step_root: {\n    // align: \"center\",\n    padding: 10,\n    maxWidth: 1000,\n    marginBottom: 50,\n    backgroundColor: \"#ddbea9\",\n    borderRadius: 10,\n  },\n  step_header: {\n    color: \"black\",\n    textAlign: \"left\",\n    fontSize: \"1.7em\",\n    marginBottom: 10,\n    fontWeight: \"700\",\n  },\n  step_desc: {\n    color: \"black\",\n    textAlign: \"left\",\n    fontSize: \"1.2em\",\n    marginBottom: 30,\n    lineHeight: 1.5,\n  },\n  card: {\n    // backgroundColor: \"FFB4A2\",\n  },\n  get_rec_button: {\n    // background: \"linear-gradient(to right, #ff9966, #ff5e62)\",\n    background: \"linear-gradient(to right, #d3cce3, #e9e4f0)\",\n    borderRadius: 10,\n    boxShadow: \"0 3px 5px 2px rgba(0, 0, 0, .2)\",\n    height: 50,\n    // padding: \"0 30px\",\n    fontSize: \"1.2em\",\n  },\n  button: {\n    \"&$disabled\": {\n      backgroundColor: \"#EBEBE4\",\n      color: \"#EBEBE4\",\n    },\n  },\n}));\n\nconst Explorify = ({ auth }) => {\n  const classes = useStyles();\n  const { token } = auth;\n\n  const [user_id, set_user_id] = useState(\"\");\n  const [rec_values, set_rec_values] = useState([]);\n  const [results, set_results] = useState(null);\n  const [selected_seeds, set_selected_seeds] = useState([]);\n  const [playlist_id, set_playlist_id] = useState(\"\");\n  const [disabled, setDisabled] = useState(false);\n  const [preventGetYourResults, setPreventGetYourResults] = useState(true);\n  const [openSnackbar, closeSnackbar] = useSnackbar(options);\n\n  console.log(\"rv\", rec_values);\n  console.log(\"user_id\", user_id);\n  console.log(\"results\");\n\n  const get_recommendations = async () => {\n    const url = \"https://api.spotify.com/v1/recommendations\";\n    let seed_string;\n    if (seed_string < 0) {\n      return;\n    } else {\n      seed_string = `seed_tracks=${selected_seeds.join(\",\")}`;\n    }\n    let min = [];\n    let max = [];\n    Object.keys(rec_values).forEach((rec) => {\n      if (rec_values[rec].enabled) {\n        min.push(`min_${rec}=${rec_values[rec].value[0]}`);\n        max.push(`min_${rec}=${rec_values[rec].value[1]}`);\n      }\n    });\n\n    const min_string = min.join(\"&\");\n    const max_string = max.join(\"&\");\n\n    const { data } = await axios.get(\n      `${url}?${seed_string}&${min_string}&${max_string}`,\n      {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      }\n    );\n    set_results(data);\n    console.log(\"data\", data, results);\n    // const uri = results.tracks.map((r) => \"spotify:track:\" + r.id);\n    // console.log(uri);\n  };\n\n  const create_playlist = async () => {\n    setDisabled(true);\n    setPreventGetYourResults(false);\n    openSnackbar(\"Successfully created playlist on your Spotify\");\n    const url = \"https://api.spotify.com/v1/users/\";\n    const playlist_name = \"brought to you by explorify\";\n    // const playlist_desc = \"generated at \";\n    return await axios\n      .post(\n        `${url}${user_id}/playlists`,\n        JSON.stringify({\n          name: playlist_name,\n          // epd,\n        }),\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      )\n      .then((data) => set_playlist_id(data.data.id));\n\n    // set_playlist_id(data.id);\n    // return export_to_playlist();\n\n    /* Add songs to playlist */\n  };\n\n  // const export_to_playlist = async () => {\n  async function export_to_playlist() {\n    // const playlist_id = await set_playlist_id;\n    console.log(playlist_id);\n\n    const url = \"https://api.spotify.com/v1/playlists/\";\n    const uri = results.tracks.map((r) => \"spotify:track:\" + r.id);\n    const euri = encodeURIComponent(uri);\n    console.log(uri);\n    const { data } = await axios\n      .post(`${url}${playlist_id}/tracks?uris=${euri}`, null, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n          \"Content-Type\": \"application/json\",\n        },\n      })\n      .then(openSnackbar(\"Successfully exported results to your Spotify\"));\n\n    // .try(openSnackbar(\"Error, cannot export results to your Spotify\"))\n    // if (data) {\n    //   console.log(\"success\", data);\n    // }\n  }\n\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <Grid container className={classes.gridContainer}>\n        <Grid item xs={12} className={classes.gridItem}>\n          <GetUserData auth={auth} onChange={set_user_id}></GetUserData>\n        </Grid>\n        <Grid item xs={12} align=\"center\">\n          <Box className={classes.card}>\n            <Card className={classes.step_root}>\n              <CardContent className={classes.card_content}>\n                <Typography className={classes.step_header}>\n                  Step 1: Input Your Seeds\n                </Typography>\n                <Typography className={classes.step_desc}>\n                  Include up to <b>5 seeds</b>, these \"seeds\" will serve as\n                  reference tracks for the basis of your new set of recommended\n                  songs. <br></br>Go ahead and search for some songs! When you\n                  are done, scroll down to the next step.\n                </Typography>\n                <SearchBar\n                  auth={auth}\n                  onChange={set_selected_seeds}\n                ></SearchBar>\n              </CardContent>\n            </Card>\n          </Box>\n        </Grid>\n        <Grid item xs={12} align=\"center\">\n          <Box className={classes.card}>\n            <Card className={classes.step_root}>\n              <CardContent className={classes.card_content}>\n                <Typography className={classes.step_header}>\n                  Step 2: Learn About Track Attributes\n                </Typography>\n                <Typography className={classes.step_desc}>\n                  Spotify provides audio features and analysis for every single\n                  track in their database, but they restrict this data for only\n                  developers to see.\n                  <br></br>\n                  These audio features and analysis are also known as{\" \"}\n                  <b>track attributes</b>. <br></br>\n                  With Explorify, you can adjust these track attributes to your\n                  liking - leading you to explore more songs based on those\n                  redeeming qualities in supplement to your reference tracks!\n                  <br></br>\n                  Go ahead and learn about these track attributes in the{\" \"}\n                  <b>Book of Track Attributes</b>, then scroll down to the{\" \"}\n                  <b>Control Panel</b> in Step 3 to modify them yourself.\n                </Typography>\n                {/* <Card className={classes.book}> */}\n\n                <BookOfTrackAttributes />\n                {/* </Card> */}\n              </CardContent>\n            </Card>\n          </Box>\n        </Grid>\n        <Grid item xs={12} align=\"center\">\n          <Box>\n            <Card className={classes.step_root}>\n              <CardContent>\n                <Typography className={classes.step_header}>\n                  Step 3: Fine Tune Your Track Attributes\n                </Typography>\n                <Typography\n                  className={classes.step_desc}\n                  style={{ paddingBottom: 15 }}\n                >\n                  In this step, you have the ability to fine tune specific track\n                  attributes that you want to look for in your recommended\n                  songs. <br></br> Based on the track attributes up above, go\n                  ahead and <b>check</b> the ones you want to modify. <br></br>\n                  Then,{\" \"}\n                  <b>\n                    drag either just the min, the max, or both the min and max\n                    sliders\n                  </b>{\" \"}\n                  to really specify your desired range!\n                </Typography>\n                <RecBoards onChange={set_rec_values} />\n              </CardContent>\n            </Card>\n          </Box>\n        </Grid>\n        <Grid item xs={12} align=\"center\">\n          <Box>\n            <Card className={classes.step_root}>\n              <CardContent>\n                <Typography className={classes.step_header}>\n                  Step 4: Get Your Results\n                </Typography>\n                <Typography\n                  className={classes.step_desc}\n                  style={{ paddingBottom: 15 }}\n                >\n                  Press the big <b>Get Recommendations</b> button to retrieve\n                  your results! <br></br>\n                  Go ahead and click the button as many times as you want until\n                  you get a set of results that you like. <br></br> If you wish\n                  to save your results, scroll down to{\" \"}\n                  <b>Create Your Playlist</b> and <b>Export Your Results</b> to\n                  the playlist!\n                </Typography>\n                <Button\n                  className={classes.get_rec_button}\n                  variant={\"contained\"}\n                  onClick={get_recommendations}\n                  style={{ marginTop: -25 }}\n                >\n                  {/* <Typography classes={classes.get_rec_button_font}> */}\n                  GET RECOMMENDATIONS\n                  {/* </Typography> */}\n                  <DirectionsRunIcon style={{ marginLeft: 5, fontSize: 28 }} />\n                </Button>\n                {results && <RecommendationResults results={results} />}\n              </CardContent>\n            </Card>\n          </Box>\n        </Grid>\n        <Grid item xs={12} align=\"center\">\n          <Box>\n            <Card className={classes.step_root}>\n              <CardContent>\n                <Typography className={classes.step_header}>\n                  Step 5: Create Your Playlist and Export Your Results\n                </Typography>\n                <Typography\n                  className={classes.step_desc}\n                  style={{ paddingBottom: 15 }}\n                >\n                  Press <b>Create Playlist</b>. Then, press{\" \"}\n                  <b>Export to Playlist</b>. <br></br>\n                  <b>Note:</b> Once you have created your playlist, the{\" \"}\n                  <b>Create Your Playlist</b> button will be disabled! But, the{\" \"}\n                  <b>Export Your Results</b> button is still available.{\" \"}\n                  <br></br> <b>What does this mean?</b> You can go back to\n                  modify your reference tracks, tune your track attributes, and\n                  get your recommendations over and over again. Once you are\n                  ready, just press <b>Export To Playlist</b> again to keep\n                  stacking your results top of the playlist that you already\n                  created.\n                  <br></br>This way, you'll have one gigantic playlist of new\n                  songs that you can put on shuffle (and not 20 new playlists).\n                </Typography>\n                <Grid container className={classes.gridContainer}>\n                  <Grid item align=\"center\" xs={6}>\n                    <Button\n                      className={classes.get_rec_button}\n                      variant={\"contained\"}\n                      style={{\n                        margin: \"auto\",\n\n                        color: \"#2b2d42\",\n                        justify: \"center\",\n                      }}\n                      disabled={disabled}\n                      onClick={() => create_playlist()}\n                    >\n                      Create Your Playlist\n                      <AddBoxIcon style={{ marginLeft: 5, fontSize: 28 }} />\n                    </Button>\n                  </Grid>\n                  <Grid item align=\"center\" xs={6}>\n                    <Button\n                      className={classes.get_rec_button}\n                      variant={\"contained\"}\n                      style={{\n                        margin: \"auto\",\n\n                        color: \"#2b2d42\",\n                        justify: \"center\",\n                      }}\n                      disabled={preventGetYourResults}\n                      onClick={export_to_playlist}\n                    >\n                      Export Your Results\n                      <QueueMusicIcon style={{ marginLeft: 5, fontSize: 28 }} />\n                    </Button>\n                  </Grid>\n                </Grid>\n              </CardContent>\n            </Card>\n          </Box>\n        </Grid>\n        <Grid item xs={12} align=\"center\">\n          <Typography\n            style={{\n              fontFamily: \"Inter\",\n              fontSize: \"1.3em\",\n              fontWeight: \"500\",\n              paddingBottom: \"50px\",\n              color: \"#fff\",\n            }}\n          >\n            Thank you for trying this out! Learn more about me at:{\" \"}\n            <a href=\"https://www.xinwang.me\" target=\"_blank\" rel=\"noreferrer\">\n              https://www.xinwang.me.\n            </a>\n          </Typography>\n        </Grid>\n      </Grid>\n    </ThemeProvider>\n  );\n};\n\nexport default Explorify;\n"]},"metadata":{},"sourceType":"module"}