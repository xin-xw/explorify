{"ast":null,"code":"var _jsxFileName = \"/Users/xinwng/Projects/Explorify/client/src/explorify.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef } from \"react\";\nimport { makeStyles, Box, Card, CardContent, Grid, Typography, Button, ThemeProvider, createMuiTheme, CssBaseline, styled } from \"@material-ui/core\";\nimport axios from \"axios\";\nimport SearchBar from \"./component/search_bar\";\nimport RecBoards from \"./component/rec_boards\";\nimport RecommendationResults from \"./component/rec_results\";\nimport GetUserData from \"./component/get_user_data\";\nimport BookOfTrackAttributes from \"./component/book_track_attribute\";\nimport DirectionsRunIcon from \"@material-ui/icons/DirectionsRun\";\nimport AddBoxIcon from \"@material-ui/icons/AddBox\";\nimport QueueMusicIcon from \"@material-ui/icons/QueueMusic\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst theme = createMuiTheme({\n  typography: {\n    allVariants: {\n      fontFamily: [\"Inter\", \"Kiwi Maru\"],\n      color: \"black\"\n    }\n  },\n  palette: {\n    background: {\n      default: \"#6b705c\"\n    },\n    action: {\n      disabledBackground: \"#\",\n      disabled: \"\"\n    }\n  },\n  props: {\n    MuiButtonBase: {\n      disableRipple: true\n    }\n  },\n  overrides: {\n    MuiSlider: {\n      root: {\n        // color: \"#3880ff\",\n        height: 5,\n        padding: \"15px 0\",\n        width: \"95%\" // \"&$disabled\": {\n        //   color: \"#e6e4df\",\n        // },\n\n      },\n      switchBase: {// Controls default (unchecked) color for the thumb\n        // color: \"#ccc\",\n      },\n      colorSecondary: {\n        \"&$checked\": {\n          // Controls checked color for the thumb\n          color: \"#f2ff00\"\n        }\n      },\n      thumb: {\n        height: 13,\n        width: 13,\n        // size: 50,\n        // marginTop: -8,\n        // marginLeft: -12,\n        // color: \"#2B2D25\",\n        border: \"5px solid currentColor\",\n        \"&:focus, &:hover, &$active\": {\n          boxShadow: \"inherit\"\n        },\n        \"&$disabled\": {\n          opacity: 0.8 // color: \"#e6e4df\",\n\n        }\n      },\n      track: {\n        // color: \"#2B2D25\",\n        height: 5,\n        borderRadius: 4 // \"&$disabled\": {\n        //   color: \"#e6e4df\",\n        // },\n\n      },\n      rail: {\n        color: \"#FFE8D6\",\n        height: 5,\n        borderRadius: 4 // \"&$disabled\": {\n        //   color: \"#e6e4df\",\n        // },\n\n      },\n      valueLabel: {\n        left: \"calc(-50% - 12px)\",\n        color: \"#2B2D25\"\n      }\n    }\n  }\n});\nconst useStyles = makeStyles(theme => ({\n  gridContainer: {\n    padding: 10,\n    spacing: 10,\n    alignItems: \"center\",\n    justify: \"center\",\n    direction: \"row\"\n  },\n  gridItem: {\n    paddingTop: 30,\n    marginBottom: -10\n  },\n  nav_title: {\n    padding: 10,\n    display: \"flex\",\n    flexDirection: \"row\",\n    placeItems: \"left\",\n    fontSize: \"1.5rem\",\n    fontFamily: \"Kiwi Maru\"\n  },\n  step_root: {\n    // align: \"center\",\n    padding: 10,\n    maxWidth: 1000,\n    marginBottom: 50,\n    backgroundColor: \"#ddbea9\",\n    borderRadius: 10\n  },\n  step_header: {\n    color: \"black\",\n    textAlign: \"left\",\n    fontSize: \"1.55em\",\n    marginBottom: 10,\n    fontWeight: \"600\"\n  },\n  step_desc: {\n    color: \"black\",\n    textAlign: \"left\",\n    fontSize: \"1.1em\",\n    marginBottom: 20\n  },\n  card: {// backgroundColor: \"FFB4A2\",\n  },\n  get_rec_button: {\n    // background: \"linear-gradient(to right, #ff9966, #ff5e62)\",\n    background: \"linear-gradient(to right, #ff7e5f, #feb47b)\",\n    borderRadius: 10,\n    boxShadow: \"0 3px 5px 2px rgba(255, 105, 135, .6)\",\n    height: 50,\n    // padding: \"0 30px\",\n    fontSize: \"1.2em\"\n  }\n}));\n\nconst Explorify = ({\n  auth\n}) => {\n  _s();\n\n  const classes = useStyles();\n  const {\n    token\n  } = auth;\n  const [user_id, set_user_id] = useState(\"\");\n  const [rec_values, set_rec_values] = useState([]);\n  const [results, set_results] = useState(null);\n  const [selected_seeds, set_selected_seeds] = useState([]);\n  const [playlist_id, set_playlist_id] = useState(\"\");\n  const [disabled, setDisabled] = useState(false);\n  console.log(\"rv\", rec_values);\n  console.log(\"user_id\", user_id);\n  console.log(\"results\");\n\n  const get_recommendations = async () => {\n    const url = \"https://api.spotify.com/v1/recommendations\";\n    let seed_string;\n\n    if (seed_string < 0) {\n      return;\n    } else {\n      seed_string = `seed_tracks=${selected_seeds.join(\",\")}`;\n    }\n\n    let min = [];\n    let max = [];\n    Object.keys(rec_values).forEach(rec => {\n      if (rec_values[rec].enabled) {\n        min.push(`min_${rec}=${rec_values[rec].value[0]}`);\n        max.push(`min_${rec}=${rec_values[rec].value[1]}`);\n      }\n    });\n    const min_string = min.join(\"&\");\n    const max_string = max.join(\"&\");\n    const {\n      data\n    } = await axios.get(`${url}?${seed_string}&${min_string}&${max_string}`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    set_results(data);\n    console.log(\"data\", data, results); // const uri = results.tracks.map((r) => \"spotify:track:\" + r.id);\n    // console.log(uri);\n  };\n\n  const create_playlist = async () => {\n    setDisabled(true);\n    const url = \"https://api.spotify.com/v1/users/\";\n    const playlist_name = \"brought to you by explorify\"; // const playlist_desc = \"generated at \";\n\n    return await axios.post(`${url}${user_id}/playlists`, JSON.stringify({\n      name: playlist_name // epd,\n\n    }), {\n      headers: {\n        Authorization: `Bearer ${token}`,\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(data => set_playlist_id(data.data.id)); // set_playlist_id(data.id);\n    // return export_to_playlist();\n\n    /* Add songs to playlist */\n  }; // const export_to_playlist = async () => {\n\n\n  async function export_to_playlist() {\n    // const playlist_id = await set_playlist_id;\n    console.log(playlist_id);\n    const url = \"https://api.spotify.com/v1/playlists/\";\n    const uri = results.tracks.map(r => \"spotify:track:\" + r.id);\n    const euri = encodeURIComponent(uri);\n    console.log(uri);\n    return await axios.post(`${url}${playlist_id}/tracks?uris=${euri}`, null, {\n      headers: {\n        Authorization: `Bearer ${token}`,\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(data => console.log(\"success\", data)); // if (data) {\n    //   console.log(\"success\", data);\n    // }\n  }\n\n  function handle_create_and_export() {\n    create_playlist();\n    setTimeout(function () {\n      export_to_playlist();\n    }, 15000);\n    console.log(\"pid\", playlist_id); // export_to_playlist();\n  }\n\n  return /*#__PURE__*/_jsxDEV(ThemeProvider, {\n    theme: theme,\n    children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      className: classes.gridContainer,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        className: classes.gridItem,\n        children: /*#__PURE__*/_jsxDEV(GetUserData, {\n          auth: auth,\n          onChange: set_user_id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        align: \"center\",\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          className: classes.card,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: classes.step_root,\n            children: /*#__PURE__*/_jsxDEV(CardContent, {\n              className: classes.card_content,\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                className: classes.step_header,\n                children: \"Step 1: Input Your Seeds\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                className: classes.step_desc,\n                children: [\"Include up to \", /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"5 seeds\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 33\n                }, this), \", these \\\"seeds\\\" will serve as reference tracks for the basis of your new set of recommended songs. \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 26\n                }, this), \"Go ahead and search for some songs! When you are done, scroll down to the next step.\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(SearchBar, {\n                auth: auth,\n                onChange: set_selected_seeds\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        align: \"center\",\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          className: classes.card,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: classes.step_root,\n            children: /*#__PURE__*/_jsxDEV(CardContent, {\n              className: classes.card_content,\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                className: classes.step_header,\n                children: \"Step 2: Learn About Track Attributes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                className: classes.step_desc,\n                children: [\"Spotify provides audio features & analysis for every single song, but they restrict this data for only developers to see.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 19\n                }, this), \"These audio features & analysis are also known as\", \" \", /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"track attributes\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 307,\n                  columnNumber: 19\n                }, this), \". \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 307,\n                  columnNumber: 44\n                }, this), \"With Explorify, you can adjust these track attributes to your liking - leading you to more songs based on those redeeming qualities in supplement to your reference tracks!\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 19\n                }, this), \"Go ahead and learn about these track attributes in the\", \" \", /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Book of Track Attributes\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 313,\n                  columnNumber: 19\n                }, this), \", then scroll down to the\", \" \", /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Control Panel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 19\n                }, this), \" in Step 3 to modify them yourself.\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(BookOfTrackAttributes, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        align: \"center\",\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: classes.step_root,\n            children: /*#__PURE__*/_jsxDEV(CardContent, {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                className: classes.step_header,\n                children: \"Step 3: Fine Tune Your Track Attributes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                className: classes.step_desc,\n                style: {\n                  paddingBottom: 15\n                },\n                children: [\"In this step, you have the ability to fine tune specific track attributes that you want to look for in your recommended songs. \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 337,\n                  columnNumber: 26\n                }, this), \" You learned about the various track attributes earlier. Now, scroll down and \", /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"check\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 338,\n                  columnNumber: 60\n                }, this), \" the ones you want to modify. \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 339,\n                  columnNumber: 39\n                }, this), \"Then, drag either just the min, the max, or both the min and max to really specify your desired range!\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(RecBoards, {\n                onChange: set_rec_values\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 343,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        align: \"center\",\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: classes.step_root,\n            children: /*#__PURE__*/_jsxDEV(CardContent, {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                className: classes.step_header,\n                children: \"Step 4: Get Your Results\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                className: classes.step_desc,\n                style: {\n                  paddingBottom: 15\n                },\n                children: [\"Press the big \", /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Get Recommendations\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 359,\n                  columnNumber: 33\n                }, this), \" button to retrieve your results! I hope you are satisfied with them. \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 360,\n                  columnNumber: 69\n                }, this), \"Go ahead and click the button multiple times until you get a set of results that you like. \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 362,\n                  columnNumber: 49\n                }, this), \" If you wish to save your results, scroll down to create a playlist and export the songs to the playlist!\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                className: classes.get_rec_button,\n                variant: \"containedSizeLarge\",\n                onClick: get_recommendations,\n                children: [\"GET RECOMMENDATIONS\", /*#__PURE__*/_jsxDEV(DirectionsRunIcon, {\n                  style: {\n                    marginLeft: 5,\n                    fontSize: 28\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 374,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 366,\n                columnNumber: 17\n              }, this), results && /*#__PURE__*/_jsxDEV(RecommendationResults, {\n                results: results\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        align: \"center\",\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: classes.step_root,\n            children: /*#__PURE__*/_jsxDEV(CardContent, {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                className: classes.step_header,\n                children: \"Step 5: Create Your Playlist and Export Your Results\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                className: classes.step_desc,\n                style: {\n                  paddingBottom: 15\n                },\n                children: [\"Press \", /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Create Playlist\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 392,\n                  columnNumber: 25\n                }, this), \". Then, press\", \" \", /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Export to Playlist\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 393,\n                  columnNumber: 19\n                }, this), \". \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 393,\n                  columnNumber: 46\n                }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Note:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 394,\n                  columnNumber: 19\n                }, this), \" Once you have created your playlist, the button will be disabled! You can go back to modify your reference tracks, tune your track attributes, and get your recommendations over and over again. Once you are ready, just press \", /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Export To Playlist\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 398,\n                  columnNumber: 25\n                }, this), \" again and stack on top of the playlist that you initially created.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 400,\n                  columnNumber: 19\n                }, this), \"This way, you'll have one gigantic playlist of new songs that you can put on shuffle (and not 20 new playlists).\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                container: true,\n                className: classes.gridContainer,\n                children: [/*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  align: \"center\",\n                  xs: 6,\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    style: {\n                      backgroundColor: \"#B7B7A4\",\n                      color: \"#2b2d42\",\n                      justify: \"center\"\n                    },\n                    variant: \"contained\",\n                    disabled: disabled,\n                    onClick: () => create_playlist(),\n                    children: [\"Create Playlist\", /*#__PURE__*/_jsxDEV(AddBoxIcon, {\n                      style: {\n                        marginLeft: 5,\n                        fontSize: 28\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 416,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 405,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 404,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  align: \"center\",\n                  xs: 6,\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    style: {\n                      margin: \"auto\",\n                      backgroundColor: \"#B7B7A4\",\n                      color: \"#2b2d42\",\n                      justify: \"center\"\n                    },\n                    variant: \"contained\",\n                    onClick: export_to_playlist,\n                    children: [\"Export to Playlist\", /*#__PURE__*/_jsxDEV(QueueMusicIcon, {\n                      style: {\n                        marginLeft: 5,\n                        fontSize: 28\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 431,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 420,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 419,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 267,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Explorify, \"Cluz2hflUH8YW2Vudis5tEnRfiU=\", false, function () {\n  return [useStyles];\n});\n\n_c = Explorify;\nexport default Explorify;\n\nvar _c;\n\n$RefreshReg$(_c, \"Explorify\");","map":{"version":3,"sources":["/Users/xinwng/Projects/Explorify/client/src/explorify.js"],"names":["React","useState","useRef","makeStyles","Box","Card","CardContent","Grid","Typography","Button","ThemeProvider","createMuiTheme","CssBaseline","styled","axios","SearchBar","RecBoards","RecommendationResults","GetUserData","BookOfTrackAttributes","DirectionsRunIcon","AddBoxIcon","QueueMusicIcon","theme","typography","allVariants","fontFamily","color","palette","background","default","action","disabledBackground","disabled","props","MuiButtonBase","disableRipple","overrides","MuiSlider","root","height","padding","width","switchBase","colorSecondary","thumb","border","boxShadow","opacity","track","borderRadius","rail","valueLabel","left","useStyles","gridContainer","spacing","alignItems","justify","direction","gridItem","paddingTop","marginBottom","nav_title","display","flexDirection","placeItems","fontSize","step_root","maxWidth","backgroundColor","step_header","textAlign","fontWeight","step_desc","card","get_rec_button","Explorify","auth","classes","token","user_id","set_user_id","rec_values","set_rec_values","results","set_results","selected_seeds","set_selected_seeds","playlist_id","set_playlist_id","setDisabled","console","log","get_recommendations","url","seed_string","join","min","max","Object","keys","forEach","rec","enabled","push","value","min_string","max_string","data","get","headers","Authorization","create_playlist","playlist_name","post","JSON","stringify","name","then","id","export_to_playlist","uri","tracks","map","r","euri","encodeURIComponent","handle_create_and_export","setTimeout","card_content","paddingBottom","marginLeft","margin"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from \"react\";\nimport {\n  makeStyles,\n  Box,\n  Card,\n  CardContent,\n  Grid,\n  Typography,\n  Button,\n  ThemeProvider,\n  createMuiTheme,\n  CssBaseline,\n  styled,\n} from \"@material-ui/core\";\nimport axios from \"axios\";\n\nimport SearchBar from \"./component/search_bar\";\nimport RecBoards from \"./component/rec_boards\";\nimport RecommendationResults from \"./component/rec_results\";\nimport GetUserData from \"./component/get_user_data\";\nimport BookOfTrackAttributes from \"./component/book_track_attribute\";\nimport DirectionsRunIcon from \"@material-ui/icons/DirectionsRun\";\nimport AddBoxIcon from \"@material-ui/icons/AddBox\";\nimport QueueMusicIcon from \"@material-ui/icons/QueueMusic\";\n\nconst theme = createMuiTheme({\n  typography: {\n    allVariants: {\n      fontFamily: [\"Inter\", \"Kiwi Maru\"],\n      color: \"black\",\n    },\n  },\n  palette: {\n    background: {\n      default: \"#6b705c\",\n    },\n    action: {\n      disabledBackground: \"#\",\n      disabled: \"\",\n    },\n  },\n  props: {\n    MuiButtonBase: {\n      disableRipple: true,\n    },\n  },\n  overrides: {\n    MuiSlider: {\n      root: {\n        // color: \"#3880ff\",\n        height: 5,\n        padding: \"15px 0\",\n        width: \"95%\",\n        // \"&$disabled\": {\n        //   color: \"#e6e4df\",\n        // },\n      },\n      switchBase: {\n        // Controls default (unchecked) color for the thumb\n        // color: \"#ccc\",\n      },\n      colorSecondary: {\n        \"&$checked\": {\n          // Controls checked color for the thumb\n          color: \"#f2ff00\",\n        },\n      },\n      thumb: {\n        height: 13,\n        width: 13,\n        // size: 50,\n        // marginTop: -8,\n        // marginLeft: -12,\n        // color: \"#2B2D25\",\n        border: \"5px solid currentColor\",\n        \"&:focus, &:hover, &$active\": {\n          boxShadow: \"inherit\",\n        },\n        \"&$disabled\": {\n          opacity: 0.8,\n          // color: \"#e6e4df\",\n        },\n      },\n      track: {\n        // color: \"#2B2D25\",\n        height: 5,\n        borderRadius: 4,\n        // \"&$disabled\": {\n        //   color: \"#e6e4df\",\n        // },\n      },\n      rail: {\n        color: \"#FFE8D6\",\n        height: 5,\n        borderRadius: 4,\n        // \"&$disabled\": {\n        //   color: \"#e6e4df\",\n        // },\n      },\n      valueLabel: { left: \"calc(-50% - 12px)\", color: \"#2B2D25\" },\n    },\n  },\n});\n\nconst useStyles = makeStyles((theme) => ({\n  gridContainer: {\n    padding: 10,\n    spacing: 10,\n    alignItems: \"center\",\n    justify: \"center\",\n    direction: \"row\",\n  },\n  gridItem: {\n    paddingTop: 30,\n    marginBottom: -10,\n  },\n  nav_title: {\n    padding: 10,\n    display: \"flex\",\n    flexDirection: \"row\",\n    placeItems: \"left\",\n    fontSize: \"1.5rem\",\n    fontFamily: \"Kiwi Maru\",\n  },\n  step_root: {\n    // align: \"center\",\n    padding: 10,\n    maxWidth: 1000,\n    marginBottom: 50,\n    backgroundColor: \"#ddbea9\",\n    borderRadius: 10,\n  },\n  step_header: {\n    color: \"black\",\n    textAlign: \"left\",\n    fontSize: \"1.55em\",\n    marginBottom: 10,\n    fontWeight: \"600\",\n  },\n  step_desc: {\n    color: \"black\",\n    textAlign: \"left\",\n    fontSize: \"1.1em\",\n    marginBottom: 20,\n  },\n  card: {\n    // backgroundColor: \"FFB4A2\",\n  },\n  get_rec_button: {\n    // background: \"linear-gradient(to right, #ff9966, #ff5e62)\",\n    background: \"linear-gradient(to right, #ff7e5f, #feb47b)\",\n    borderRadius: 10,\n    boxShadow: \"0 3px 5px 2px rgba(255, 105, 135, .6)\",\n    height: 50,\n    // padding: \"0 30px\",\n    fontSize: \"1.2em\",\n  },\n}));\n\nconst Explorify = ({ auth }) => {\n  const classes = useStyles();\n  const { token } = auth;\n\n  const [user_id, set_user_id] = useState(\"\");\n  const [rec_values, set_rec_values] = useState([]);\n  const [results, set_results] = useState(null);\n  const [selected_seeds, set_selected_seeds] = useState([]);\n  const [playlist_id, set_playlist_id] = useState(\"\");\n  const [disabled, setDisabled] = useState(false);\n\n  console.log(\"rv\", rec_values);\n  console.log(\"user_id\", user_id);\n  console.log(\"results\");\n\n  const get_recommendations = async () => {\n    const url = \"https://api.spotify.com/v1/recommendations\";\n    let seed_string;\n    if (seed_string < 0) {\n      return;\n    } else {\n      seed_string = `seed_tracks=${selected_seeds.join(\",\")}`;\n    }\n    let min = [];\n    let max = [];\n    Object.keys(rec_values).forEach((rec) => {\n      if (rec_values[rec].enabled) {\n        min.push(`min_${rec}=${rec_values[rec].value[0]}`);\n        max.push(`min_${rec}=${rec_values[rec].value[1]}`);\n      }\n    });\n\n    const min_string = min.join(\"&\");\n    const max_string = max.join(\"&\");\n\n    const { data } = await axios.get(\n      `${url}?${seed_string}&${min_string}&${max_string}`,\n      {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      }\n    );\n    set_results(data);\n    console.log(\"data\", data, results);\n    // const uri = results.tracks.map((r) => \"spotify:track:\" + r.id);\n    // console.log(uri);\n  };\n\n  const create_playlist = async () => {\n    setDisabled(true);\n    const url = \"https://api.spotify.com/v1/users/\";\n    const playlist_name = \"brought to you by explorify\";\n    // const playlist_desc = \"generated at \";\n    return await axios\n      .post(\n        `${url}${user_id}/playlists`,\n        JSON.stringify({\n          name: playlist_name,\n          // epd,\n        }),\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      )\n      .then((data) => set_playlist_id(data.data.id));\n\n    // set_playlist_id(data.id);\n    // return export_to_playlist();\n\n    /* Add songs to playlist */\n  };\n\n  // const export_to_playlist = async () => {\n  async function export_to_playlist() {\n    // const playlist_id = await set_playlist_id;\n    console.log(playlist_id);\n    const url = \"https://api.spotify.com/v1/playlists/\";\n    const uri = results.tracks.map((r) => \"spotify:track:\" + r.id);\n    const euri = encodeURIComponent(uri);\n    console.log(uri);\n    return await axios\n      .post(`${url}${playlist_id}/tracks?uris=${euri}`, null, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n          \"Content-Type\": \"application/json\",\n        },\n      })\n      .then((data) => console.log(\"success\", data));\n    // if (data) {\n    //   console.log(\"success\", data);\n    // }\n  }\n\n  function handle_create_and_export() {\n    create_playlist();\n    setTimeout(function () {\n      export_to_playlist();\n    }, 15000);\n    console.log(\"pid\", playlist_id);\n    // export_to_playlist();\n  }\n\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <Grid container className={classes.gridContainer}>\n        <Grid item xs={12} className={classes.gridItem}>\n          <GetUserData auth={auth} onChange={set_user_id}></GetUserData>\n        </Grid>\n        <Grid item xs={12}></Grid>\n        <Grid item xs={12} align=\"center\">\n          <Box className={classes.card}>\n            <Card className={classes.step_root}>\n              <CardContent className={classes.card_content}>\n                <Typography className={classes.step_header}>\n                  Step 1: Input Your Seeds\n                </Typography>\n                <Typography className={classes.step_desc}>\n                  Include up to <b>5 seeds</b>, these \"seeds\" will serve as\n                  reference tracks for the basis of your new set of recommended\n                  songs. <br></br>Go ahead and search for some songs! When you\n                  are done, scroll down to the next step.\n                </Typography>\n                <SearchBar\n                  auth={auth}\n                  onChange={set_selected_seeds}\n                ></SearchBar>\n              </CardContent>\n            </Card>\n          </Box>\n        </Grid>\n        <Grid item xs={12} align=\"center\">\n          <Box className={classes.card}>\n            <Card className={classes.step_root}>\n              <CardContent className={classes.card_content}>\n                <Typography className={classes.step_header}>\n                  Step 2: Learn About Track Attributes\n                </Typography>\n                <Typography className={classes.step_desc}>\n                  Spotify provides audio features & analysis for every single\n                  song, but they restrict this data for only developers to see.\n                  <br></br>\n                  These audio features & analysis are also known as{\" \"}\n                  <b>track attributes</b>. <br></br>\n                  With Explorify, you can adjust these track attributes to your\n                  liking - leading you to more songs based on those redeeming\n                  qualities in supplement to your reference tracks!\n                  <br></br>\n                  Go ahead and learn about these track attributes in the{\" \"}\n                  <b>Book of Track Attributes</b>, then scroll down to the{\" \"}\n                  <b>Control Panel</b> in Step 3 to modify them yourself.\n                </Typography>\n                {/* <Card className={classes.book}> */}\n\n                <BookOfTrackAttributes />\n                {/* </Card> */}\n              </CardContent>\n            </Card>\n          </Box>\n        </Grid>\n        <Grid item xs={12} align=\"center\">\n          <Box>\n            <Card className={classes.step_root}>\n              <CardContent>\n                <Typography className={classes.step_header}>\n                  Step 3: Fine Tune Your Track Attributes\n                </Typography>\n                <Typography\n                  className={classes.step_desc}\n                  style={{ paddingBottom: 15 }}\n                >\n                  In this step, you have the ability to fine tune specific track\n                  attributes that you want to look for in your recommended\n                  songs. <br></br> You learned about the various track\n                  attributes earlier. Now, scroll down and <b>check</b> the ones\n                  you want to modify. <br></br>Then, drag either just the min,\n                  the max, or both the min and max to really specify your\n                  desired range!\n                </Typography>\n                <RecBoards onChange={set_rec_values} />\n              </CardContent>\n            </Card>\n          </Box>\n        </Grid>\n        <Grid item xs={12} align=\"center\">\n          <Box>\n            <Card className={classes.step_root}>\n              <CardContent>\n                <Typography className={classes.step_header}>\n                  Step 4: Get Your Results\n                </Typography>\n                <Typography\n                  className={classes.step_desc}\n                  style={{ paddingBottom: 15 }}\n                >\n                  Press the big <b>Get Recommendations</b> button to retrieve\n                  your results! I hope you are satisfied with them. <br></br>\n                  Go ahead and click the button multiple times until you get a\n                  set of results that you like. <br></br> If you wish to save\n                  your results, scroll down to create a playlist and export the\n                  songs to the playlist!\n                </Typography>\n                <Button\n                  className={classes.get_rec_button}\n                  variant={\"containedSizeLarge\"}\n                  onClick={get_recommendations}\n                >\n                  {/* <Typography classes={classes.get_rec_button_font}> */}\n                  GET RECOMMENDATIONS\n                  {/* </Typography> */}\n                  <DirectionsRunIcon style={{ marginLeft: 5, fontSize: 28 }} />\n                </Button>\n                {results && <RecommendationResults results={results} />}\n              </CardContent>\n            </Card>\n          </Box>\n        </Grid>\n        <Grid item xs={12} align=\"center\">\n          <Box>\n            <Card className={classes.step_root}>\n              <CardContent>\n                <Typography className={classes.step_header}>\n                  Step 5: Create Your Playlist and Export Your Results\n                </Typography>\n                <Typography\n                  className={classes.step_desc}\n                  style={{ paddingBottom: 15 }}\n                >\n                  Press <b>Create Playlist</b>. Then, press{\" \"}\n                  <b>Export to Playlist</b>. <br></br>\n                  <b>Note:</b> Once you have created your playlist, the button\n                  will be disabled! You can go back to modify your reference\n                  tracks, tune your track attributes, and get your\n                  recommendations over and over again. Once you are ready, just\n                  press <b>Export To Playlist</b> again and stack on top of the\n                  playlist that you initially created.\n                  <br></br>This way, you'll have one gigantic playlist of new\n                  songs that you can put on shuffle (and not 20 new playlists).\n                </Typography>\n                <Grid container className={classes.gridContainer}>\n                  <Grid item align=\"center\" xs={6}>\n                    <Button\n                      style={{\n                        backgroundColor: \"#B7B7A4\",\n                        color: \"#2b2d42\",\n                        justify: \"center\",\n                      }}\n                      variant={\"contained\"}\n                      disabled={disabled}\n                      onClick={() => create_playlist()}\n                    >\n                      Create Playlist\n                      <AddBoxIcon style={{ marginLeft: 5, fontSize: 28 }} />\n                    </Button>\n                  </Grid>\n                  <Grid item align=\"center\" xs={6}>\n                    <Button\n                      style={{\n                        margin: \"auto\",\n                        backgroundColor: \"#B7B7A4\",\n                        color: \"#2b2d42\",\n                        justify: \"center\",\n                      }}\n                      variant={\"contained\"}\n                      onClick={export_to_playlist}\n                    >\n                      Export to Playlist\n                      <QueueMusicIcon style={{ marginLeft: 5, fontSize: 28 }} />\n                    </Button>\n                  </Grid>\n                </Grid>\n              </CardContent>\n            </Card>\n          </Box>\n        </Grid>\n      </Grid>\n    </ThemeProvider>\n  );\n};\n\nexport default Explorify;\n"]},"metadata":{},"sourceType":"module"}