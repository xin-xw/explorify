{"ast":null,"code":"import _slicedToArray from\"/Users/xinwng/Projects/Explorify/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/*\n1. When the app loads, it will send a request to our backends “current-session” endpoint, where it will take that data and set the auth state.\n2. This means that while our auth state is null (which is its initial state), the Loading screen will be returned, which just says “Loading…”\n3. If auth exists and is not false, then we return our Explorify screen. We also pass in that auth state so we can use it later!\n4. If auth is false, which is what happens if we aren’t logged in, then our App shows the home screen, offering a login to our users. Luckily, our login endpoint is already hooked up to our Spotify Authentication workflow!\n*/import React,{useState,useEffect}from\"react\";import axios from\"axios\";import LoginPage from\"./pre_pages/login_page\";import Loading from\"./pre_pages/loading\";import Explorify from\"./explorify\";import SnackbarProvider from\"react-simple-snackbar\";import{jsx as _jsx}from\"react/jsx-runtime\";function App(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),auth=_useState2[0],setAuth=_useState2[1];useEffect(function(){axios.get(\"/auth/current-session\").then(function(_ref){var data=_ref.data;setAuth(data);});},[]);if(auth===null){return/*#__PURE__*/_jsx(Loading,{});}if(auth){return/*#__PURE__*/_jsx(SnackbarProvider,{children:/*#__PURE__*/_jsx(Explorify,{auth:auth})});}return/*#__PURE__*/_jsx(LoginPage,{});// return <LoginPage />;\n}export default App;","map":{"version":3,"sources":["/Users/xinwng/Projects/Explorify/client/src/App.js"],"names":["React","useState","useEffect","axios","LoginPage","Loading","Explorify","SnackbarProvider","App","auth","setAuth","get","then","data"],"mappings":"0HAAA;AACA;AACA;AACA;AACA;AACA,EAEA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,SAAP,KAAsB,wBAAtB,CACA,MAAOC,CAAAA,OAAP,KAAoB,qBAApB,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,uBAA7B,C,2CAEA,QAASC,CAAAA,GAAT,EAAe,CACb,cAAwBP,QAAQ,CAAC,IAAD,CAAhC,wCAAOQ,IAAP,eAAaC,OAAb,eAEAR,SAAS,CAAC,UAAM,CACdC,KAAK,CAACQ,GAAN,CAAU,uBAAV,EAAmCC,IAAnC,CAAwC,cAAc,IAAXC,CAAAA,IAAW,MAAXA,IAAW,CACpDH,OAAO,CAACG,IAAD,CAAP,CACD,CAFD,EAGD,CAJQ,CAIN,EAJM,CAAT,CAMA,GAAIJ,IAAI,GAAK,IAAb,CAAmB,CACjB,mBAAO,KAAC,OAAD,IAAP,CACD,CACD,GAAIA,IAAJ,CAAU,CACR,mBACE,KAAC,gBAAD,wBACE,KAAC,SAAD,EAAW,IAAI,CAAEA,IAAjB,EADF,EADF,CAKD,CACD,mBAAO,KAAC,SAAD,IAAP,CACA;AACD,CAED,cAAeD,CAAAA,GAAf","sourcesContent":["/*\n1. When the app loads, it will send a request to our backends “current-session” endpoint, where it will take that data and set the auth state.\n2. This means that while our auth state is null (which is its initial state), the Loading screen will be returned, which just says “Loading…”\n3. If auth exists and is not false, then we return our Explorify screen. We also pass in that auth state so we can use it later!\n4. If auth is false, which is what happens if we aren’t logged in, then our App shows the home screen, offering a login to our users. Luckily, our login endpoint is already hooked up to our Spotify Authentication workflow!\n*/\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport LoginPage from \"./pre_pages/login_page\";\nimport Loading from \"./pre_pages/loading\";\nimport Explorify from \"./explorify\";\nimport SnackbarProvider from \"react-simple-snackbar\";\n\nfunction App() {\n  const [auth, setAuth] = useState(null);\n\n  useEffect(() => {\n    axios.get(\"/auth/current-session\").then(({ data }) => {\n      setAuth(data);\n    });\n  }, []);\n\n  if (auth === null) {\n    return <Loading />;\n  }\n  if (auth) {\n    return (\n      <SnackbarProvider>\n        <Explorify auth={auth} />\n      </SnackbarProvider>\n    );\n  }\n  return <LoginPage />;\n  // return <LoginPage />;\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}