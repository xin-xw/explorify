{"ast":null,"code":"var _jsxFileName = \"/Users/xinwng/Projects/Explorify/client/src/component/get_recommendations.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\"; // import RecBoards from \"./rec_boards\";\n\nimport axios from \"axios\";\nimport SearchResults from \"./search_results\";\nimport { Button } from \"@material-ui/core\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default async function GetRecommendations({\n  auth\n}) {\n  _s();\n\n  const [selected_artists, set_selected_artists] = useState([]);\n  const [rec_values, set_rec_values] = useState([]);\n  const {\n    token\n  } = auth;\n  const url = \"https://api.spotify.com/v1/recommendations\";\n  let selected_artists_string;\n\n  if (selected_artists_string < 0) {\n    return;\n  } else {\n    selected_artists_string = `seed_artists=${selected_artists.join(\",\")}`;\n  }\n\n  let min = [];\n  let max = [];\n  Object.keys(rec_values).forEach(rec => {\n    if (rec_values[rec].enabled) {\n      min.push(`min_${rec}=${rec_values[rec].value[0]}`);\n      max.push(`min_${rec}=${rec_values[rec].value[1]}`);\n    }\n  });\n  const min_string = min.join(\"&\");\n  const max_string = max.join(\"&\");\n  const {\n    data\n  } = await axios.get(`${url}?${selected_artists_string}&${min_string}&${max_string}`, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  console.log(data);\n  return /*#__PURE__*/_jsxDEV(Button, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 10\n  }, this);\n}\n\n_s(GetRecommendations, \"trdEO4RoLXU8rPR4Lb72tmfH67o=\");\n\n_c = GetRecommendations;\n\nvar _c;\n\n$RefreshReg$(_c, \"GetRecommendations\");","map":{"version":3,"sources":["/Users/xinwng/Projects/Explorify/client/src/component/get_recommendations.js"],"names":["React","useState","axios","SearchResults","Button","GetRecommendations","auth","selected_artists","set_selected_artists","rec_values","set_rec_values","token","url","selected_artists_string","join","min","max","Object","keys","forEach","rec","enabled","push","value","min_string","max_string","data","get","headers","Authorization","console","log"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC,C,CACA;;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,aAAP,MAA0B,kBAA1B;AACA,SAASC,MAAT,QAAuB,mBAAvB;;AAEA,eAAe,eAAeC,kBAAf,CAAkC;AAAEC,EAAAA;AAAF,CAAlC,EAA4C;AAAA;;AACzD,QAAM,CAACC,gBAAD,EAAmBC,oBAAnB,IAA2CP,QAAQ,CAAC,EAAD,CAAzD;AACA,QAAM,CAACQ,UAAD,EAAaC,cAAb,IAA+BT,QAAQ,CAAC,EAAD,CAA7C;AAEA,QAAM;AAAEU,IAAAA;AAAF,MAAYL,IAAlB;AACA,QAAMM,GAAG,GAAG,4CAAZ;AACA,MAAIC,uBAAJ;;AACA,MAAIA,uBAAuB,GAAG,CAA9B,EAAiC;AAC/B;AACD,GAFD,MAEO;AACLA,IAAAA,uBAAuB,GAAI,gBAAeN,gBAAgB,CAACO,IAAjB,CAAsB,GAAtB,CAA2B,EAArE;AACD;;AAED,MAAIC,GAAG,GAAG,EAAV;AACA,MAAIC,GAAG,GAAG,EAAV;AACAC,EAAAA,MAAM,CAACC,IAAP,CAAYT,UAAZ,EAAwBU,OAAxB,CAAiCC,GAAD,IAAS;AACvC,QAAIX,UAAU,CAACW,GAAD,CAAV,CAAgBC,OAApB,EAA6B;AAC3BN,MAAAA,GAAG,CAACO,IAAJ,CAAU,OAAMF,GAAI,IAAGX,UAAU,CAACW,GAAD,CAAV,CAAgBG,KAAhB,CAAsB,CAAtB,CAAyB,EAAhD;AACAP,MAAAA,GAAG,CAACM,IAAJ,CAAU,OAAMF,GAAI,IAAGX,UAAU,CAACW,GAAD,CAAV,CAAgBG,KAAhB,CAAsB,CAAtB,CAAyB,EAAhD;AACD;AACF,GALD;AAMA,QAAMC,UAAU,GAAGT,GAAG,CAACD,IAAJ,CAAS,GAAT,CAAnB;AACA,QAAMW,UAAU,GAAGT,GAAG,CAACF,IAAJ,CAAS,GAAT,CAAnB;AAEA,QAAM;AAAEY,IAAAA;AAAF,MAAW,MAAMxB,KAAK,CAACyB,GAAN,CACpB,GAAEf,GAAI,IAAGC,uBAAwB,IAAGW,UAAW,IAAGC,UAAW,EADzC,EAErB;AACEG,IAAAA,OAAO,EAAE;AACPC,MAAAA,aAAa,EAAG,UAASlB,KAAM;AADxB;AADX,GAFqB,CAAvB;AAQAmB,EAAAA,OAAO,CAACC,GAAR,CAAYL,IAAZ;AAEA,sBAAO,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,UAAP;AACD;;GAnC6BrB,kB;;KAAAA,kB","sourcesContent":["import React, { useState } from \"react\";\n// import RecBoards from \"./rec_boards\";\nimport axios from \"axios\";\nimport SearchResults from \"./search_results\";\nimport { Button } from \"@material-ui/core\";\n\nexport default async function GetRecommendations({ auth }) {\n  const [selected_artists, set_selected_artists] = useState([]);\n  const [rec_values, set_rec_values] = useState([]);\n\n  const { token } = auth;\n  const url = \"https://api.spotify.com/v1/recommendations\";\n  let selected_artists_string;\n  if (selected_artists_string < 0) {\n    return;\n  } else {\n    selected_artists_string = `seed_artists=${selected_artists.join(\",\")}`;\n  }\n\n  let min = [];\n  let max = [];\n  Object.keys(rec_values).forEach((rec) => {\n    if (rec_values[rec].enabled) {\n      min.push(`min_${rec}=${rec_values[rec].value[0]}`);\n      max.push(`min_${rec}=${rec_values[rec].value[1]}`);\n    }\n  });\n  const min_string = min.join(\"&\");\n  const max_string = max.join(\"&\");\n\n  const { data } = await axios.get(\n    `${url}?${selected_artists_string}&${min_string}&${max_string}`,\n    {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    }\n  );\n  console.log(data);\n\n  return <Button></Button>;\n}\n"]},"metadata":{},"sourceType":"module"}